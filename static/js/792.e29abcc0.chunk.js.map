{"version":3,"file":"static/js/792.e29abcc0.chunk.js","mappings":"kMACe,SAASA,EAAgBC,EAAKC,EAAKC,GAYhD,OAXAD,GAAM,EAAAE,EAAA,GAAcF,MACTD,EACTI,OAAOC,eAAeL,EAAKC,EAAK,CAC9BC,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZR,EAAIC,GAAOC,EAENF,CACT,CCbA,SAASS,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GACvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GAC3CC,IAAmBG,EAAUA,EAAQC,QAAO,SAAUC,GACpD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,UACtD,KAAKM,EAAKM,KAAKC,MAAMP,EAAME,EAC7B,CACA,OAAOF,CACT,CACe,SAASQ,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAS,MAAQF,UAAUD,GAAKC,UAAUD,GAAK,CAAC,EACpDA,EAAI,EAAIb,EAAQL,OAAOqB,IAAS,GAAIC,SAAQ,SAAUzB,GACpD,EAAeoB,EAAQpB,EAAKwB,EAAOxB,GACrC,IAAKG,OAAOuB,0BAA4BvB,OAAOwB,iBAAiBP,EAAQjB,OAAOuB,0BAA0BF,IAAWhB,EAAQL,OAAOqB,IAASC,SAAQ,SAAUzB,GAC5JG,OAAOC,eAAegB,EAAQpB,EAAKG,OAAOa,yBAAyBQ,EAAQxB,GAC7E,GACF,CACA,OAAOoB,CACT,C,6FCnBaQ,E,QAAYC,EAAAA,IAAH,wD,SCmCtB,EAlCc,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAKfC,QAAQC,IAAIF,GACZ,IAAQG,EAAuDH,EAAvDG,aAAcC,EAAyCJ,EAAzCI,SAAUC,EAA+BL,EAA/BK,MAAOC,EAAwBN,EAAxBM,OAAQC,EAAgBP,EAAhBO,YAE/C,OACE,UAACT,EAAD,YACE,gBAAKU,IAAKD,EAAaE,IAAKJ,KAE5B,4BACE,wBAAKA,KACL,wCAAgBK,KAAKC,MAAqB,GAAfR,GAA3B,QACA,sCACA,uBAAIC,KACJ,oCACA,uBAAIE,SAIX,E,UC2BD,EA7CqB,WAAO,IAAD,IACzB,GAA0BM,EAAAA,EAAAA,UAAS,CAAC,GAApC,eAAOZ,EAAP,KAAca,EAAd,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACTC,GAAYC,EAAAA,EAAAA,QAAM,oBAACH,EAAShB,aAAV,aAAC,EAAgBoB,YAAjB,aAAlBF,QAqBR,OAnBAG,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAkB,IAAIC,gBAa5B,OAVA,mCAAC,8GAEuBC,EAAAA,EAAAA,IAAWV,EAASQ,GAF3C,OAESG,EAFT,OAIGZ,EAAS,KAAKY,IAJjB,gDAMGxB,QAAQC,IAAR,MANH,yDAAD,uDAUO,WACLoB,EAAgBI,OACjB,CACF,GAAE,CAACZ,KAGF,4BACE,SAAC,KAAD,CAAMa,GAAIT,EAAV,8BAC+B,IAA9B7C,OAAOQ,KAAKmB,GAAOP,QAAe,SAAC,EAAD,CAAOO,MAAOA,IAAkB,MAEnE,2BACE,yBACE,SAAC,KAAD,CAAM2B,GAAG,OAAT,qBAEF,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,wBAEF,SAAC,EAAAC,SAAD,CAAUC,UAAU,SAACC,EAAA,EAAD,IAApB,UACE,SAAC,KAAD,WAKT,C,2MChDcC,EAAc,GAAdA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA6BT,GAA7B,uFACyBU,EAAAA,EAAAA,IACrB,2FACA,CAAEC,OAAQX,EAAgBW,SAH9B,cACQC,EADR,yBAMSA,EAASC,KAAKC,QAAQC,KAC3B,YAA+D,IAA5DC,EAA2D,EAA3DA,GAAIC,EAAuD,EAAvDA,eAAgBpC,EAAuC,EAAvCA,aAAcI,EAAyB,EAAzBA,YAAaF,EAAY,EAAZA,MAChD,MAAO,CACLiC,GAAAA,EACAC,eAAAA,EACApC,aAAAA,EACAI,YAAaA,EAAW,uDAC4BA,GAChD,sCACJF,MAAAA,EAEH,KAjBL,2EAqBemC,EAAiB,EAAjBA,GAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAAgCC,EAAUnB,GAA1C,uFACyBU,EAAAA,EAAAA,IAAA,mGACuES,GAC5F,CAAER,OAAQX,EAAgBW,SAH9B,cACQC,EADR,yBAMSA,EAASC,KAAKC,QAAQC,KAC3B,YAA+D,IAA5DC,EAA2D,EAA3DA,GAAIC,EAAuD,EAAvDA,eAAgBpC,EAAuC,EAAvCA,aAAcI,EAAyB,EAAzBA,YAAaF,EAAY,EAAZA,MAChD,MAAO,CACLiC,GAAAA,EACAC,eAAAA,EACApC,aAAAA,EACAI,YAAaA,EAAW,uDAC4BA,GAChD,sCACJF,MAAAA,EAEH,KAjBL,2EAqBeqC,EAAkB,EAAlBA,GAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAAiC5B,EAASQ,GAA1C,uFACyBU,EAAAA,EAAAA,IAAA,6CACiBlB,EADjB,oEAErB,CAAEmB,OAAQX,EAAgBW,SAH9B,cACQC,EADR,yBAMSA,EAASC,KAAKQ,KAAKN,KAAI,YAAiC,IAA9BO,EAA6B,EAA7BA,aAAcC,EAAe,EAAfA,KAAMP,EAAS,EAATA,GACnD,MAAO,CACLM,aAAcA,EAAY,uDAC0BA,GAChD,sCACJC,KAAAA,EACAP,GAAAA,EAEH,KAdH,2EAiBeQ,EAAa,EAAbA,GAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA4BhC,EAASQ,GAArC,uFACyBU,EAAAA,EAAAA,IAAA,6CACiBlB,EADjB,2EAErB,CAAEmB,OAAQX,EAAgBW,SAH9B,cACQC,EADR,yBAMSA,EAASC,KAAKC,QAAQC,KAAI,YAC/B,MAAO,CACLU,OAF+D,EAA/BA,OAGhCC,QAH+D,EAAvBA,QAIxCV,GAJ+D,EAAdA,GAKjDW,IAL+D,EAAVA,IAOxD,KAbH,2EAgBezB,EAAW,EAAXA,GAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA0BV,EAASQ,GAAnC,kBAkBW4B,EAlBX,wEAkBWA,EAlBX,SAkBiCC,GAK7B,OAJeA,EAAMC,QAAO,SAACC,EAAKlF,GAChC,OAAQkF,EAAOlF,EAAM0E,IACtB,GAAE,IAEWS,MAAM,aAAaC,KAAK,KACvC,EAxBH,SACyBvB,EAAAA,EAAAA,IAAA,6CACiBlB,EADjB,4DAErB,CAAEmB,OAAQX,EAAgBW,SAH9B,cACQC,EADR,SAMiEA,EAASC,KAAhEhC,EANV,EAMUA,aAAcC,EANxB,EAMwBA,SAAUC,EANlC,EAMkCA,MAAOC,EANzC,EAMyCA,OAAQC,EANjD,EAMiDA,YANjD,kBAQS,CACLJ,aAAAA,EACAC,SAAAA,EACAC,MAAAA,EACAC,OAAQ4C,EAAsB5C,GAC9BC,YAAaA,EAAW,yDAC8BA,GAClD,wCAfR,kE","sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/Movie/Movie.styled.js","components/Movie/Movie.jsx","pages/MovieDetails.jsx","services/Fetch.jsx"],"sourcesContent":["import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","import styled from '@emotion/styled';\n\nexport const MovieWrap = styled.div`\n  display: flex;\n  gap: 32px;\n`;\n","import { MovieWrap } from './Movie.styled';\nimport PropTypes from 'prop-types';\n\nconst Movie = ({ state }) => {\n  // if (!state) {\n  //   return <div>Loading...</div>;\n  // }\n\n  console.log(state);\n  const { vote_average, overview, title, genres, poster_path } = state;\n\n  return (\n    <MovieWrap>\n      <img src={poster_path} alt={title} />\n\n      <div>\n        <h2>{title}</h2>\n        <p>User score: {Math.round(vote_average * 10)}%</p>\n        <h3>Overview</h3>\n        <p>{overview}</p>\n        <h3>Genres</h3>\n        <p>{genres}</p>\n      </div>\n    </MovieWrap>\n  );\n};\n\nMovie.propTypes = {\n  state: PropTypes.shape({\n    genres: PropTypes.string.isRequired,\n    overview: PropTypes.string.isRequired,\n    poster_path: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    vote_average: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nexport default Movie;\n","import { useRef, useEffect, useState } from 'react';\nimport { useParams, useLocation, Link, Outlet } from 'react-router-dom';\nimport { fetchMovie } from 'services/Fetch';\nimport Movie from 'components/Movie/Movie';\nimport { Suspense } from 'react';\nimport Loader from 'components/Loader/Loader';\n\nconst MovieDetails = () => {\n  const [state, setState] = useState({});\n  const { movieId } = useParams();\n  const location = useLocation();\n  const { current } = useRef(location.state?.from ?? `/`);\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    // IIFE\n    (async function fetch() {\n      try {\n        const movie = await fetchMovie(movieId, abortController);\n\n        setState({ ...movie });\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n\n    return () => {\n      abortController.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <div>\n      <Link to={current}>Back to products</Link>\n      {Object.keys(state).length !== 0 ? <Movie state={state}></Movie> : null}\n\n      <ul>\n        <li>\n          <Link to=\"cast\">CAST</Link>\n        </li>\n        <li>\n          <Link to=\"reviews\">REVIEWS</Link>\n        </li>\n        <Suspense fallback={<Loader />}>\n          <Outlet />\n        </Suspense>\n      </ul>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nasync function fetchTrending(abortController) {\n  const response = await axios.get(\n    'https://api.themoviedb.org/3/trending/movie/day?api_key=a89ed47e53c22ac07455246c7a19999d',\n    { signal: abortController.signal }\n  );\n\n  return response.data.results.map(\n    ({ id, original_title, vote_average, poster_path, title }) => {\n      return {\n        id,\n        original_title,\n        vote_average,\n        poster_path: poster_path\n          ? `https://image.tmdb.org/t/p/w220_and_h330_face${poster_path}`\n          : 'https://via.placeholder.com/220x330',\n        title,\n      };\n    }\n  );\n}\n\nasync function fetchSearchMovie(filmName, abortController) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=a89ed47e53c22ac07455246c7a19999d&query=${filmName}`,\n    { signal: abortController.signal }\n  );\n\n  return response.data.results.map(\n    ({ id, original_title, vote_average, poster_path, title }) => {\n      return {\n        id,\n        original_title,\n        vote_average,\n        poster_path: poster_path\n          ? `https://image.tmdb.org/t/p/w220_and_h330_face${poster_path}`\n          : 'https://via.placeholder.com/220x330',\n        title,\n      };\n    }\n  );\n}\n\nasync function fetchMovieCredits(movieId, abortController) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=a89ed47e53c22ac07455246c7a19999d&language=en-US`,\n    { signal: abortController.signal }\n  );\n\n  return response.data.cast.map(({ profile_path, name, id }) => {\n    return {\n      profile_path: profile_path\n        ? `https://image.tmdb.org/t/p/w138_and_h175_face${profile_path}`\n        : 'https://via.placeholder.com/138x175',\n      name,\n      id,\n    };\n  });\n}\n\nasync function fetchReviews(movieId, abortController) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=a89ed47e53c22ac07455246c7a19999d&language=en-US&page=1`,\n    { signal: abortController.signal }\n  );\n\n  return response.data.results.map(({ author, content, id, url }) => {\n    return {\n      author,\n      content,\n      id,\n      url,\n    };\n  });\n}\n\nasync function fetchMovie(movieId, abortController) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=a89ed47e53c22ac07455246c7a19999d&language=en-US`,\n    { signal: abortController.signal }\n  );\n\n  const { vote_average, overview, title, genres, poster_path } = response.data;\n\n  return {\n    vote_average,\n    overview,\n    title,\n    genres: stringFromGanresArray(genres),\n    poster_path: poster_path\n      ? `https://image.tmdb.org/t/p/w300_and_h450_bestv2${poster_path}`\n      : 'https://via.placeholder.com/300x450',\n  };\n\n  function stringFromGanresArray(array) {\n    const string = array.reduce((acc, value) => {\n      return (acc += value.name);\n    }, '');\n\n    return string.split(/(?=[A-Z])/).join(', ');\n  }\n}\n\nexport {\n  fetchTrending,\n  fetchMovie,\n  fetchSearchMovie,\n  fetchMovieCredits,\n  fetchReviews,\n};\n"],"names":["_defineProperty","obj","key","value","toPropertyKey","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","MovieWrap","styled","state","console","log","vote_average","overview","title","genres","poster_path","src","alt","Math","round","useState","setState","movieId","useParams","location","useLocation","current","useRef","from","useEffect","abortController","AbortController","fetchMovie","movie","abort","to","Suspense","fallback","Loader","fetchTrending","axios","signal","response","data","results","map","id","original_title","fetchSearchMovie","filmName","fetchMovieCredits","cast","profile_path","name","fetchReviews","author","content","url","stringFromGanresArray","array","reduce","acc","split","join"],"sourceRoot":""}