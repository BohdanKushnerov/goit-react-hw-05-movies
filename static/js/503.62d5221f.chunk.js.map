{"version":3,"file":"static/js/503.62d5221f.chunk.js","mappings":"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","sources":["components/CastList/CastList.styled.js","components/CastList/CastList.jsx","pages/Cast.jsx","services/Constants.js","services/FetchFunctions.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const CreditsList = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 8px;\n`;\n\nexport const CreditsItem = styled.li`\n  max-width: 138px;\n\n  background-color: #e5e8e9;\n  text-align: center;\n  border-radius: 5px;\n  overflow: hidden;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 1px rgba(0, 0, 0, 0.14),\n    0 2px 1px rgba(0, 0, 0, 0.2);\n`;\n\nexport const Name = styled.p`\n  font-weight: 500;\n`;\n","import PropTypes from 'prop-types';\nimport { CreditsList, CreditsItem, Name } from './CastList.styled';\n\nconst CastList = ({ state }) => {\n  return (\n    <CreditsList>\n      {state.map(({ profile_path, name, id }) => {\n        return (\n          <CreditsItem key={id}>\n            <img src={profile_path} alt={name} width={138} height={175} />\n            <Name>{name}</Name>\n          </CreditsItem>\n        );\n      })}\n    </CreditsList>\n  );\n};\n\nCastList.propTypes = {\n  state: PropTypes.arrayOf(\n    PropTypes.shape({\n      profile_path: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      id: PropTypes.number.isRequired,\n    }).isRequired\n  ).isRequired,\n};\n\nexport default CastList;\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchMovieCredits } from 'services/FetchFunctions';\nimport CastList from 'components/CastList/CastList';\nimport Status from 'services/Constants';\n\nconst Cast = () => {\n  const [state, setState] = useState([]);\n  const [status, setStatus] = useState(Status.IDLE);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    // IIFE\n    (async function fetch() {\n      setStatus(Status.PENDING);\n      try {\n        const moviesCredits = await fetchMovieCredits(movieId, abortController);\n\n        setState([...moviesCredits]);\n        setStatus(Status.RESOLVED);\n      } catch (error) {\n        setStatus(Status.REJECTED);\n        console.log(error);\n      }\n    })();\n\n    return () => {\n      abortController.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <section>\n      {status === Status.RESOLVED && <CastList state={state}></CastList>}\n      {!state.length && status === Status.RESOLVED && (\n        <h2>We don't have any cast added to this movie</h2>\n      )}\n      {status === Status.REJECTED && (\n        <h2>\n          An error occurred, we could not upload the data, please try reloading\n          the page and try again :)\n        </h2>\n      )}\n    </section>\n  );\n};\n\nexport default Cast;\n","const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default Status;\n","import axios from 'axios';\n\nasync function fetchTrending(abortController) {\n  const response = await axios.get(\n    'https://api.themoviedb.org/3/trending/movie/day?api_key=a89ed47e53c22ac07455246c7a19999d',\n    { signal: abortController.signal }\n  );\n\n  return response.data.results.map(\n    ({ id, original_title, vote_average, poster_path, title }) => {\n      return {\n        id,\n        original_title,\n        vote_average,\n        poster_path: poster_path\n          ? `https://image.tmdb.org/t/p/w220_and_h330_face${poster_path}`\n          : 'https://via.placeholder.com/220x330',\n        title,\n      };\n    }\n  );\n}\n\nasync function fetchSearchMovie(filmName, abortController) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=a89ed47e53c22ac07455246c7a19999d&query=${filmName}`,\n    { signal: abortController.signal }\n  );\n\n  return response.data.results.map(\n    ({ id, original_title, vote_average, poster_path, title }) => {\n      return {\n        id,\n        original_title,\n        vote_average,\n        poster_path: poster_path\n          ? `https://image.tmdb.org/t/p/w220_and_h330_face${poster_path}`\n          : 'https://via.placeholder.com/220x330',\n        title,\n      };\n    }\n  );\n}\n\nasync function fetchMovieCredits(movieId, abortController) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=a89ed47e53c22ac07455246c7a19999d&language=en-US`,\n    { signal: abortController.signal }\n  );\n\n  return response.data.cast.map(({ profile_path, name, id }) => {\n    return {\n      profile_path: profile_path\n        ? `https://image.tmdb.org/t/p/w138_and_h175_face${profile_path}`\n        : 'https://via.placeholder.com/138x175',\n      name,\n      id,\n    };\n  });\n}\n\nasync function fetchReviews(movieId, abortController) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=a89ed47e53c22ac07455246c7a19999d&language=en-US&page=1`,\n    { signal: abortController.signal }\n  );\n\n  return response.data.results.map(({ author, content, id, url }) => {\n    return {\n      author,\n      content,\n      id,\n      url,\n    };\n  });\n}\n\nasync function fetchMovie(movieId, abortController) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=a89ed47e53c22ac07455246c7a19999d&language=en-US`,\n    { signal: abortController.signal }\n  );\n\n  const { vote_average, overview, title, genres, poster_path } = response.data;\n\n  return {\n    vote_average,\n    overview,\n    title,\n    genres: stringFromGanresArray(genres),\n    poster_path: poster_path\n      ? `https://image.tmdb.org/t/p/w300_and_h450_bestv2${poster_path}`\n      : 'https://via.placeholder.com/300x450',\n  };\n\n  function stringFromGanresArray(array) {\n    const string = array.reduce((acc, value) => {\n      return (acc += value.name);\n    }, '');\n\n    return string.split(/(?=[A-Z])/).join(', ');\n  }\n}\n\nexport {\n  fetchTrending,\n  fetchMovie,\n  fetchSearchMovie,\n  fetchMovieCredits,\n  fetchReviews,\n};\n"],"names":["CreditsList","styled","CreditsItem","Name","state","map","profile_path","name","id","src","alt","width","height","useState","setState","Status","status","setStatus","movieId","useParams","useEffect","abortController","AbortController","fetchMovieCredits","moviesCredits","console","log","abort","length","IDLE","PENDING","RESOLVED","REJECTED","fetchTrending","axios","signal","response","data","results","original_title","vote_average","poster_path","title","fetchSearchMovie","filmName","cast","fetchReviews","author","content","url","fetchMovie","stringFromGanresArray","array","reduce","acc","value","split","join","overview","genres"],"sourceRoot":""}